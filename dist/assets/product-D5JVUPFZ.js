import{g as n,s as a,a as c}from"./utils-C1ZufQCI.js";function d(e){if(e.ok)return e.json();throw new Error("Bad Response")}class s{constructor(t){this.category=t,this.path=`../json/${this.category}.json`}getData(){return fetch(this.path).then(d).then(t=>t)}async findProductById(t){return(await this.getData()).find(r=>r.Id===t)}}class i{constructor(t,o){this.productId=t,this.product={},this.dataSource=o}async init(){this.product=await this.dataSource.findProductById(this.productId),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const t=n("so-cart")||[];t.push(this.product),a("so-cart",t),console.log("cartItems:",t)}renderProductDetails(){u(this.product)}}function u(e){document.querySelector("h2").textContent=e.Brand.Name,document.querySelector("h3").textContent=e.NameWithoutBrand;const t=document.getElementById("productImage");t.src=e.Image,t.alt=e.NameWithoutBrand,document.getElementById("productPrice").textContent=e.FinalPrice,document.getElementById("productColor").textContent=e.Colors[0].ColorName,document.getElementById("productDesc").innerHTML=e.DescriptionHtmlSimple,document.getElementById("addToCart").dataset.id=e.Id}const m=new s("tents"),l=c("product"),h=new i(l,m);h.init();
